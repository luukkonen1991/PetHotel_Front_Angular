<!-- Profile Info Screen -->
<h2 *ngIf="userData !== undefined">
  My Profile
</h2>
<div *ngIf="userData !== undefined" class="card">
  <div class="card-body">
    <h6>Name</h6>
    <p>{{userData.data.name}}</p>
    <hr>
    <h6>Role</h6>
    <p>{{userData.data.role}}</p>
    <hr>
    <h6>Email</h6>
    <p>{{userData.data.email}}</p>
    <hr>
    <button type="button" class="btn btn-danger mr-1" data-toggle="modal" data-target="#deleteProfileModal">
      Delete Profile
    </button>
  </div>
</div>
<br><br>

<!-- Delete Profile Modal -->
<div *ngIf="userData !== undefined" class="modal fade delete p-1" id="deleteProfileModal" tabindex="-1" role="dialog"
  aria-labelledby="deleteProfileModalLabel" aria-hidden="true">
  <div class="modal-dialog m-auto" role="document">
    <div class="modal-content p-2">
      <h5 class="modal-title alert alert-danger" id="deleteProfileModalLabel">Are you sure you want to delete
        profile<br> <b>"{{ userData.data.name }}"</b>
      </h5>
      <br><br>
      <button type="button" class="btn btn-danger mb-2" (click)="deleteProfile()" data-dismiss="modal">Delete
        Profile</button>
      <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
    </div>
  </div>
</div>

<!-- Show add a hotel button, if user role is publisher and user has no hotel -->
<div *ngIf="userData !== undefined" class="hostBtn">
  <button *ngIf="location === undefined && userData.data.role === 'publisher'" type="button" class="btn btn-primary "
    data-toggle="modal" data-target="#addHotelModal">Host a pet hotel
  </button>
</div>


<!-- Hotel Info Screen -->
<h2 *ngIf="location !== undefined && userData !== undefined">
  My hotel
</h2>
<div *ngIf="location !== undefined" class="card">
  <img class="card-img-top resize-img" src="http://localhost:5000/uploads/{{location.data[0].photo}}"
    alt="photo_5d713995b721c3bb38c1f5d0.jpg" />
  <div class="card-body">

    <h6>
      Title
    </h6>
    <p>
      {{location.data[0].title}}
    </p>
    <hr>
    <h6>
      Description
    </h6>
    <p>
      {{ location.data[0].description }}
    </p>
    <hr>
    <h6>
      Animal types
    </h6>
    <p>
      {{ location.data[0].animalTypes }}
    </p>
    <hr>
    <h6>
      Services
    </h6>
    <p>
      {{ location.data[0].services }}
    </p>
    <hr>
    <h6>
      Address
    </h6>
    <p>
      {{ location.data[0].address }}
    </p>
    <hr>
    <h6>
      Price
    </h6>
    <p>
      {{location.data[0].costAmount}}€ / {{location.data[0].costType}}
    </p>
    <hr>
    <h6>
      Email
    </h6>
    <p>
      {{location.data[0].email}}
    </p>
    <hr>
    <h6>
      Price
    </h6>
    <p>
      {{location.data[0].phone}}
    </p>
    <hr>
    <h6>
      Posted
    </h6>
    <p>
      {{location.data[0].createdAt | date}}
    </p>
    <button type="button" class="btn btn-primary m-1" routerLink="">Preview Hotel</button>
    <button type="button" class="btn btn-warning m-1" data-toggle="modal" data-target="#editHotelModal">Edit
      Hotel</button>
    <button type="button" class="btn btn-warning m-1" routerLink="">Change Hotel Photo</button>
    <button type="button" class="btn btn-danger m-1" data-toggle="modal" data-target="#deleteHotelModal">
      Delete Hotel
    </button>
  </div>
</div>

<!-- Edit Hotel Modal-->
<div *ngIf="location !== undefined" class="modal fade bd-example-modal-lg" id="editHotelModal" tabindex="-1"
  role="dialog" aria-labelledby="editHotelModalLabel" aria-hidden="true">
  <div class="modal-dialog m-auto" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="editHotelModalLabel">Edit your hotel</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input [(ngModel)]="this.location.data[0].photo" type="text" name="photo" [hidden]="true"
            value="{{location.data[0].photo}}" #photo>
          <!-- <input
            [(ngModel)]="this.location.data[0]._id"
            type="text"
            name="photo"
            [hidden]="true"
            value="{{location.data[0]._id}}"
          > -->
          <label>Title</label>
          <input [(ngModel)]="this.location.data[0].title" type="text" class="form-control" name="title"
            value="{{location.data[0].title}}" #title /><br>
          <label>Description</label>
          <input [(ngModel)]="this.location.data[0].description" type="text" class="form-control" name="description"
            value="{{ location.data[0].description }}" #description /><br>
          <label>Animal types</label>
          <input [(ngModel)]="this.location.data[0].animalTypes" type="text" class="form-control" name="animalTypes"
            value="{{ location.data[0].animalTypes }}" #animalTypes /><br>
          <label>Services</label>
          <input [(ngModel)]="this.location.data[0].services" type="text" class="form-control" name="services"
            value="{{ location.data[0].services }}" #services /><br>
          <label>Address</label>
          <input [(ngModel)]="this.location.data[0].address" type="text" class="form-control" name="address"
            value="{{ location.data[0].address }}" #address /><br>
          <label>Price € (Amount)</label>
          <input [(ngModel)]="this.location.data[0].costAmount" type="text" class="form-control" name="costAmount"
            value="{{location.data[0].costAmount}}" #costAmount /><br>
          <label>Price (Day or Hour)</label>
          <input [(ngModel)]="this.location.data[0].costType" type="text" class="form-control" name="costType"
            value="{{location.data[0].costType}}" #costType /><br>
          <label>Email address</label>
          <input [(ngModel)]="this.location.data[0].email" type="text" class="form-control" name="email"
            value="{{location.data[0].email}}" #email /><br>
          <label>Phone number</label>
          <input [(ngModel)]="this.location.data[0].phone" type="text" class="form-control" name="phone"
            value="{{location.data[0].phone}}" #phone />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" (click)="editHotel()" data-dismiss="modal">Save changes</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>






<!-- Add Hotel Modal-->
<div class="modal fade bd-example-modal-lg" id="addHotelModal" tabindex="-1" role="dialog"
  aria-labelledby="addHotelModalLabel" aria-hidden="true">
  <div class="modal-dialog m-auto" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="addHotelModalLabel">Add Your Pet Hotel</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Title</label>
          <input [(ngModel)]="newLocation.title" type="text" class="form-control" name="title" #title /><br>
          <label>Description</label>
          <input [(ngModel)]="newLocation.description" type="text" class="form-control" name="description"
            #description /><br>
          <label>Animal types</label>
          <input [(ngModel)]="newLocation.animalTypes" type="text" class="form-control" name="animalTypes"
            #animalTypes /><br>
          <label>Services</label>
          <input [(ngModel)]="newLocation.services" type="text" class="form-control" name="services" #services /><br>
          <label>Address</label>
          <input [(ngModel)]="newLocation.address" type="text" class="form-control" name="address" #address /><br>
          <label>Price € (Amount)</label>
          <input [(ngModel)]="newLocation.costAmount" type="text" class="form-control" name="costAmount"
            #costAmount /><br>
          <label>Price (Day or Hour)</label>
          <input [(ngModel)]="newLocation.costType" type="text" class="form-control" name="costType" #costType /><br>
          <label>Email address</label>
          <input [(ngModel)]="newLocation.email" type="text" class="form-control" name="email" #email /><br>
          <label>Phone number</label>
          <input [(ngModel)]="newLocation.phone" type="text" class="form-control" name="phone" #phone />
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="addHotel()" data-dismiss="modal">Add Pet Hotel</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>








<!-- Delete Hotel Modal -->
<div *ngIf="location !== undefined" class="modal fade delete p-1" id="deleteHotelModal" tabindex="-1" role="dialog"
  aria-labelledby="deleteHotelModalLabel" aria-hidden="true">
  <div class="modal-dialog m-auto" role="document">
    <div class="modal-content p-2">
      <h5 class="modal-title alert alert-danger" id="deleteHotelModalLabel">Are you sure you want to delete your
        hotel<br> <b>"{{ location.data[0].title }}"</b>
      </h5>
      <br><br>
      <button type="button" class="btn btn-danger mb-2" (click)="deleteHotel()" data-dismiss="modal">Delete
        Profile</button>
      <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
    </div>
  </div>
</div>

<!-- Loading animation -->
<div class="d-flex justify-content-center">
  <div class="spinner-border" role="status" *ngIf="userData === undefined">
    <h2 class="sr-only">Loading...</h2>
  </div>
</div>

<!-- <div *ngIf="userData === undefined">
  <h2 class="sr-only">Loading...</h2>
</div> -->